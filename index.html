<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>
            // Function to prompt the user for their choice and validate it
            function getUserChoice() {
                let userInput = prompt("Enter your choice (Rock, Paper, Scissors)").toLowerCase();
                if (userInput === "rock" || userInput === "paper" || userInput === "scissors") {
                    return userInput;
                } else {
                    alert("Invalid choice. Please enter Rock, Paper, or Scissors.");
                    return getUserChoice(); // Prompt again for valid input
                }
            }

            // Function to generate the computer's choice
            function getComputerChoice() {
                let options = ["rock", "paper", "scissors"];
                return options[Math.floor(Math.random() * 3)];
            }

            // Function to determine the winner
            function determineWinner(userChoice, computerChoice) {
                if (userChoice === computerChoice) {
                    return "It's a tie!";
                } else if ((userChoice === "rock" && computerChoice === "scissors") ||
                    (userChoice === "paper" && computerChoice === "rock") ||
                    (userChoice === "scissors" && computerChoice === "paper")) {
                    return "You win!";
                } else {
                    return "Computer wins!";
                }
            }

            // Main function to play the game
            function playGame() {
                let userChoice = getUserChoice();
                let computerChoice = getComputerChoice();
                let result = determineWinner(userChoice, computerChoice);
                alert(`You chose ${userChoice}. The computer chose ${computerChoice}. ${result}`);
            }

            // Gets the number of iterations
            function getIterations() {
                let userIter = (prompt("How many games would you like to play?"));
                if (userIter < 0) {
                    return getIterations();
                } else {
                    return userIter;
                }
            }
            // Call the main function to start the game
            const iterations = getIterations();
            for (let i = 0; i < iterations; i++) {
                playGame();
            }
        </script>
    </body>
</html>